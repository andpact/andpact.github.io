---
title: "[Java] 배열 리스트(Array List) 구현"
excerpt: "배열 리스트(Array List) 구현"

categories: Java
  - 
tags:
  - 

toc: true
toc_sticky: true
 
date: 2023-02-14
last_modified_at: 2023-02-15
---
<br>
<br>
<details>
<summary>리스트 인터페이스 확인하기</summary>
- 리스트 인터페이스가 가져야할 메서드는 다음과 같다. 모든 메서드를 포함하지 않았고, 대표적인 메서드만 나열하였다.

|기능|반환 타입|메서드|설명|
|:---:|:---:|:---|:---|
|CREATE|void|add(int index, E element)|지정된 인덱스에 지정된 요소를 삽입합니다.|
|CREATE|boolean|add(E e)|지정된 요소를 마지막에 추가합니다.|
|READ|E|get(int index)|지정된 인덱스의 요소를 반환합니다.|
|UPDATE|E|set(int index, E element)|지정한 위치의 요소를 지정한 요소로 교체합니다.|
|DELETE|E|remove(int index)|지정한 인덱스의 요소를 제거합니다.|
|DELETE|boolean|remove(Object o)|첫 요소부터 탐색하여 지정한 요소가 존재한다면 해당 요소를 삭제합니다.|
|DELETE|void|clear()|모든 요소를 삭제합니다.|
|Etc|boolean|contains(Object o)|지정한 요소를 포함하고 있다면 true를 반환합니다.|
|Etc|int|indexOf(Object o)|지정된 요소의 인덱스를 반환합니다. 없다면 -1을 반환합니다.|
|Etc|boolean|isEmpty()|요소를 포함하고 있지 않다면 true를 반환합니다.|
|Etc|int|size()|요소의 개수를 반홥합니다.|

- 위를 토대로 Java로 리스트 인터페이스를 만들면 다음과 같다.
```java
package list;

/**
 *
 * @author andpact
 * @param <E> the type of elements it this list
 * 
 */
public interface List<E> {

	/**
	 * 지정된 인덱스에 지정된 요소를 삽입합니다.
	 * @param index 요소를 삽입할 인덱스
	 * @param element 삽입할 요소
	 */
	public void add(int index, E element);

	/**
	 * 지정된 요소를 마지막에 추가합니다.
	 * @param e 추가할 요소
	 * @return 요소 추가에 성공하면 true를 반환한다.
	 */
	public boolean add(E e);

	/**
	 * 지정된 인덱스의 요소를 반환합니다.
	 * @param i 반환할 요소의 인덱스
	 * @return 반환할 요소
	 */
	public E get(int i);

	/**
	 * 지정한 위치의 요소를 지정한 요소로 교체합니다.
	 * @param i 변경될 요소의 인덱스
	 * @param e 새로운 요소
	 * @return
	 */
	public E set(int i, E e);

	/**
	 * 지정한 인덱스의 요소를 제거합니다.
	 * @param index 삭제할 요소의 인덱스
	 * @return 지정된 요소에 위치했던 요소
	 */
	public E remove(int index);

	/**
	 * 첫 요소부터 탐색하여 지정한 요소가 존재한다면 해당 요소를 삭제합니다.
	 * @param e 삭제할 요소
	 * @return 지정되 요소를 포함하고 있다면 true를 반환
	 */
	public boolean remove(E e);

	/**
	 * 모든 요소를 삭제합니다.
	 */
	public void clear();

	/**
	 * 지정한 요소를 포함하고 있다면 true를 반환합니다.
	 * @param o 포함 여부를 확인할 객체
	 * @return 지정된 객체를 포함하고 있다면 true를 반환
	 */
	public boolean contains(Object o);

	/**
	 * 지정된 요소의 인덱스를 반환합니다. 없다면 -1을 반환합니다.
	 * @param o 인덱스를 확인할 요소
	 * @return 지정된 객체가 존재한다면 해당 객체의 인덱스 반환, 그렇지 않으면 -1 반환
	 */
	public int indexOf(Object o);

	/**
	 * 요소를 포함하고 있지 않다면 true를 반환합니다.
	 * @return 요소를 포함하고 있지 않다면 true 반환
	 */
	public boolean isEmpty();

	/**
	 * 요소의 개수를 반홥합니다.
	 * @return 요소의 개수 반환
	 */
	public int size();
}
```
</details>
<br>
<br>

## **생성자**

```java
package list;

import java.util.Arrays;

public class ArrayList<E> implements List<E> {

    private static final int DEFAULT_CAPACITY = 10; // 기본 배열 크기
    private E[] arr; // 요소를 담을 배열
    private int size; // 요소의 수

    public ArrayList() { // 기본 배열 크기의 배열 리스트 생성자
        this.arr = (E[]) new Object[DEFAULT_CAPACITY];
        this.size = 0;
    }

    public ArrayList(int capacity) { // 지정된 크기의 배열 리스트 생성자
        this.arr = (E[]) new Object[capacity];
        this.size = 0;
    }
}
```
## **CREATE 메서드**
```java
@Override
public void add(int index, E element) {
    if (index < 0 || arr.length <= index)
        throw new IndexOutOfBoundsException();
    else if (size == arr.length) resize();
    for (int i = size - 1; index <= i; i--)
        arr[i + 1] = arr[i];
    arr[index] = element;
    size++;
}

@Override
public boolean add(E e) {
    if (size == arr.length) resize();
    arr[size++] = e;
    return true;
}
```
## **READ 메서드**
```java
@Override
public E get(int i) {
    if (i < 0 || arr.length <= i)
        throw new IndexOutOfBoundsException();
    return arr[i];
}
```
## **UPDATE 메서드**
```java
@Override
public E set(int i, E newE) {
    if (i < 0 || arr.length <= i)
        throw new IndexOutOfBoundsException();
    E prev = arr[i];
    arr[i] = newE;
    return prev;
}
```
## **DELETE 메서드**
```java
@Override
public E remove(int index) {
    if (index < 0 || arr.length <= index)
        throw new IndexOutOfBoundsException();
    E tmp = arr[index];
    for (int i = index; i < size - 2; i++) {
        arr[i] = arr[i + 1];
        arr[i + 1] = null;
    }
    size--;
    resize();
    return tmp;
}

@Override
public boolean remove(E e) {
    int index = indexOf(e);
    if (index == -1) return false;
    remove(index);
    return true;
}

@Override
public void clear() {
    arr = (E[]) new Object[arr.length];
    size = 0;
    resize();
}
```
## **기타 메서드**
```java
@Override
public int indexOf(Object o) {
    for (int i = 0; i < size - 1; i++)
        if (arr[i].equals(o)) return i;
    return -1;
}

@Override
public boolean contains(Object o) {
    return indexOf(o) != -1;
}

@Override
public boolean isEmpty() {
    return size == 0;
}

@Override
public int size() {
    return size;
}

public void resize() {
    if (size == 0)
        arr = (E[]) new Object[DEFAULT_CAPACITY];
    else if (size == arr.length)
        arr = Arrays.copyOf(arr, arr.length * 2);
    else if (size < arr.length / 2)
        arr = Arrays.copyOf(arr, Math.max(DEFAULT_CAPACITY, arr.length / 2));
}
```